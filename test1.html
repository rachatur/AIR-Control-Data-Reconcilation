<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>CI/CD Smoke Test</title>
<style>
  body{font-family:Arial;background:#111;color:#eee;margin:40px;}
  .box{background:#1c1c1c;padding:20px;border-radius:10px;max-width:600px;margin:auto;}
  button{padding:10px 16px;border:0;border-radius:6px;background:#4ade80;color:#000;font-weight:bold;cursor:pointer;}
  .stats{margin:15px 0;display:flex;gap:20px;}
  .log{background:#000;height:180px;overflow:auto;font:12px monospace;padding:10px;border-radius:6px;}
  .ok{color:#4ade80;} .fail{color:#f87171;}
</style>
</head>
<body>
<div class="box">
  <h2>CI/CD Smoke Test</h2>
  <p>Quick pass/fail UI for verifying deployment artifacts.</p>

  <button id="run">Run Test</button>

  <div class="stats">
    <div>Passed: <span id="pass">0</span></div>
    <div>Failed: <span id="fail">0</span></div>
    <div>Status: <span id="state">Idle</span></div>
  </div>

  <div class="log" id="log"></div>
</div>

<script>
  const log = msg => {
    const box = document.getElementById("log");
    box.innerHTML += msg + "<br>";
    box.scrollTop = box.scrollHeight;
  };

  document.getElementById("run").onclick = async () => {
    let pass = 0, fail = 0;
    document.getElementById("state").textContent = "Running";
    document.getElementById("log").innerHTML = "";

    const tests = ["Load page", "API ping", "Render content", "Timeout check"];

    for(const t of tests){
      log("Running: " + t);
      await new Promise(r => setTimeout(r, 400));
      if(Math.random() < 0.8){
        pass++; log('<span class="ok">✔ ' + t + ' passed</span>');
      } else {
        fail++; log('<span class="fail">✖ ' + t + ' failed</span>');
      }
      document.getElementById("pass").textContent = pass;
      document.getElementById("fail").textContent = fail;
    }

    document.getElementById("state").textContent =
      fail === 0 ? "Success" : "Failed";
  };
</script>
</body>
</html>
